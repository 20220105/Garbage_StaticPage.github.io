(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cec885f"],{1148:function(e,n,a){"use strict";var t=a("da84"),o=a("5926"),i=a("577e"),r=a("1d80"),s=t.RangeError;e.exports=function(e){var n=i(r(this)),a="",t=o(e);if(t<0||t==1/0)throw s("Wrong number of repetitions");for(;t>0;(t>>>=1)&&(n+=n))1&t&&(a+=n);return a}},1816:function(e,n,a){"use strict";a("34a4")},"25f0":function(e,n,a){"use strict";var t=a("e330"),o=a("5e77").PROPER,i=a("6eeb"),r=a("825a"),s=a("3a9b"),c=a("577e"),l=a("d039"),u=a("ad6d"),d="toString",p=RegExp.prototype,f=p[d],v=t(u),g=l((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),m=o&&f.name!=d;(g||m)&&i(RegExp.prototype,d,(function(){var e=r(this),n=c(e.source),a=e.flags,t=c(void 0===a&&s(p,e)&&!("flags"in p)?v(e):a);return"/"+n+"/"+t}),{unsafe:!0})},"34a4":function(e,n,a){},"408a":function(e,n,a){var t=a("e330");e.exports=t(1..valueOf)},5021:function(e,n,a){"use strict";a("d881")},5899:function(e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,n,a){var t=a("e330"),o=a("1d80"),i=a("577e"),r=a("5899"),s=t("".replace),c="["+r+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(e){return function(n){var a=i(o(n));return 1&e&&(a=s(a,l,"")),2&e&&(a=s(a,u,"")),a}};e.exports={start:d(1),end:d(2),trim:d(3)}},7156:function(e,n,a){var t=a("1626"),o=a("861d"),i=a("d2bb");e.exports=function(e,n,a){var r,s;return i&&t(r=n.constructor)&&r!==a&&o(s=r.prototype)&&s!==a.prototype&&i(e,s),e}},"862d":function(e,n,a){"use strict";(function(n,a){e.exports=a()})(0,(function(){function e(e){var t=[];return e.AMapUI&&t.push(n(e.AMapUI)),e.Loca&&t.push(a(e.Loca)),Promise.all(t)}function n(e){return new Promise((function(n,a){var s=[];if(e.plugins)for(var c=0;c<e.plugins.length;c+=1)-1==o.AMapUI.plugins.indexOf(e.plugins[c])&&s.push(e.plugins[c]);if(i.AMapUI===t.failed)a("前次请求 AMapUI 失败");else if(i.AMapUI===t.notload){i.AMapUI=t.loading,o.AMapUI.version=e.version||o.AMapUI.version,c=o.AMapUI.version;var l=document.body||document.head,u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/ui/"+c+"/main.js",u.onerror=function(e){i.AMapUI=t.failed,a("请求 AMapUI 失败")},u.onload=function(){if(i.AMapUI=t.loaded,s.length)window.AMapUI.loadUI(s,(function(){for(var e=0,a=s.length;e<a;e++){var t=s[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}for(n();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()}));else for(n();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},l.appendChild(u)}else i.AMapUI===t.loaded?e.version&&e.version!==o.AMapUI.version?a("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,a=s.length;e<a;e++){var t=s[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n():e.version&&e.version!==o.AMapUI.version?a("不允许多个版本 AMapUI 混用"):r.AMapUI.push((function(e){e?a(e):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,a=s.length;e<a;e++){var t=s[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n()}))}))}function a(e){return new Promise((function(n,a){if(i.Loca===t.failed)a("前次请求 Loca 失败");else if(i.Loca===t.notload){i.Loca=t.loading,o.Loca.version=e.version||o.Loca.version;var s=o.Loca.version,c=o.AMap.version.startsWith("2"),l=s.startsWith("2");if(c&&!l||!c&&l)a("JSAPI 与 Loca 版本不对应！！");else{c=o.key,l=document.body||document.head;var u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/loca?v="+s+"&key="+c,u.onerror=function(e){i.Loca=t.failed,a("请求 AMapUI 失败")},u.onload=function(){for(i.Loca=t.loaded,n();r.Loca.length;)r.Loca.splice(0,1)[0]()},l.appendChild(u)}}else i.Loca===t.loaded?e.version&&e.version!==o.Loca.version?a("不允许多个版本 Loca 混用"):n():e.version&&e.version!==o.Loca.version?a("不允许多个版本 Loca 混用"):r.Loca.push((function(e){e?a(e):a()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(t||(t={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},r={AMap:[],AMapUI:[],Loca:[]},s=[],c=function(e){"function"==typeof e&&(i.AMap===t.loaded?e(window.AMap):s.push(e))};return{load:function(n){return new Promise((function(a,r){if(i.AMap==t.failed)r("");else if(i.AMap==t.notload){var l=n.key,u=n.version,d=n.plugins;l?(window.AMap&&"lbs.amap.com"!==location.host&&r("禁止多种API加载方式混用"),o.key=l,o.AMap.version=u||o.AMap.version,o.AMap.plugins=d||o.AMap.plugins,i.AMap=t.loading,u=document.body||document.head,window.___onAPILoaded=function(o){if(delete window.___onAPILoaded,o)i.AMap=t.failed,r(o);else for(i.AMap=t.loaded,e(n).then((function(){a(window.AMap)}))["catch"](r);s.length;)s.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+l+"&plugin="+o.AMap.plugins.join(","),d.onerror=function(e){i.AMap=t.failed,r(e)},u.appendChild(d)):r("请填写key")}else if(i.AMap==t.loaded)if(n.key&&n.key!==o.key)r("多个不一致的 key");else if(n.version&&n.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{if(l=[],n.plugins)for(u=0;u<n.plugins.length;u+=1)-1==o.AMap.plugins.indexOf(n.plugins[u])&&l.push(n.plugins[u]);l.length?window.AMap.plugin(l,(function(){e(n).then((function(){a(window.AMap)}))["catch"](r)})):e(n).then((function(){a(window.AMap)}))["catch"](r)}else if(n.key&&n.key!==o.key)r("多个不一致的 key");else if(n.version&&n.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{var p=[];if(n.plugins)for(u=0;u<n.plugins.length;u+=1)-1==o.AMap.plugins.indexOf(n.plugins[u])&&p.push(n.plugins[u]);c((function(){p.length?window.AMap.plugin(p,(function(){e(n).then((function(){a(window.AMap)}))["catch"](r)})):e(n).then((function(){a(window.AMap)}))["catch"](r)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},r={AMap:[],AMapUI:[],Loca:[]}}}}))},a9e3:function(e,n,a){"use strict";var t=a("83ab"),o=a("da84"),i=a("e330"),r=a("94ca"),s=a("6eeb"),c=a("1a2d"),l=a("7156"),u=a("3a9b"),d=a("d9b5"),p=a("c04e"),f=a("d039"),v=a("241c").f,g=a("06cf").f,m=a("9bf2").f,h=a("408a"),b=a("58a8").trim,A="Number",w=o[A],M=w.prototype,_=o.TypeError,I=i("".slice),y=i("".charCodeAt),U=function(e){var n=p(e,"number");return"bigint"==typeof n?n:x(n)},x=function(e){var n,a,t,o,i,r,s,c,l=p(e,"number");if(d(l))throw _("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),n=y(l,0),43===n||45===n){if(a=y(l,2),88===a||120===a)return NaN}else if(48===n){switch(y(l,1)){case 66:case 98:t=2,o=49;break;case 79:case 111:t=8,o=55;break;default:return+l}for(i=I(l,2),r=i.length,s=0;s<r;s++)if(c=y(i,s),c<48||c>o)return NaN;return parseInt(i,t)}return+l};if(r(A,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,L=function(e){var n=arguments.length<1?0:w(U(e)),a=this;return u(M,a)&&f((function(){h(a)}))?l(Object(n),a,L):n},E=t?v(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;E.length>N;N++)c(w,k=E[N])&&!c(L,k)&&m(L,k,g(w,k));L.prototype=M,M.constructor=L,s(o,A,L)}},b680:function(e,n,a){"use strict";var t=a("23e7"),o=a("da84"),i=a("e330"),r=a("5926"),s=a("408a"),c=a("1148"),l=a("d039"),u=o.RangeError,d=o.String,p=Math.floor,f=i(c),v=i("".slice),g=i(1..toFixed),m=function(e,n,a){return 0===n?a:n%2===1?m(e,n-1,a*e):m(e*e,n/2,a)},h=function(e){var n=0,a=e;while(a>=4096)n+=12,a/=4096;while(a>=2)n+=1,a/=2;return n},b=function(e,n,a){var t=-1,o=a;while(++t<6)o+=n*e[t],e[t]=o%1e7,o=p(o/1e7)},A=function(e,n){var a=6,t=0;while(--a>=0)t+=e[a],e[a]=p(t/n),t=t%n*1e7},w=function(e){var n=6,a="";while(--n>=0)if(""!==a||0===n||0!==e[n]){var t=d(e[n]);a=""===a?t:a+f("0",7-t.length)+t}return a},M=l((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!l((function(){g({})}));t({target:"Number",proto:!0,forced:M},{toFixed:function(e){var n,a,t,o,i=s(this),c=r(e),l=[0,0,0,0,0,0],p="",g="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return d(i);if(i<0&&(p="-",i=-i),i>1e-21)if(n=h(i*m(2,69,1))-69,a=n<0?i*m(2,-n,1):i/m(2,n,1),a*=4503599627370496,n=52-n,n>0){b(l,0,a),t=c;while(t>=7)b(l,1e7,0),t-=7;b(l,m(10,t,1),0),t=n-1;while(t>=23)A(l,1<<23),t-=23;A(l,1<<t),b(l,1,1),A(l,2),g=w(l)}else b(l,0,a),b(l,1<<-n,0),g=w(l)+f("0",c);return c>0?(o=g.length,g=p+(o<=c?"0."+f("0",c-o)+g:v(g,0,o-c)+"."+v(g,o-c))):g=p+g,g}})},d504:function(e,n,a){"use strict";a.r(n);var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("van-nav-bar",{attrs:{title:"首页"},on:{"click-left":e.reload},scopedSlots:e._u([{key:"left",fn:function(){return[a("van-icon",{attrs:{name:"location-o",size:"1.05rem",color:"#fff"}}),e.address?a("span",[e._v(e._s(e.address))]):a("span",[e.isRouterAlive?[e._v("未定位")]:e._e()],2)]},proxy:!0}])}),a("map-container",{staticClass:"map",on:{myEvent:e.getAddress}}),a("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},e._l(e.images,(function(e,n){return a("van-swipe-item",{key:n},[a("img",{attrs:{src:e,alt:""}})])})),1),a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"回收流程通知",background:"#fff",color:"#25c89b"}}),a("van-grid",{attrs:{border:!1,"column-num":5}},[a("van-grid-item",{attrs:{to:"/recyclingGuide"}},[a("van-icon",{attrs:{name:"browsing-history",size:"2.3rem",color:"#7d71f0"}}),a("span",[e._v("回收指南")])],1),a("van-uploader",{attrs:{"after-read":e.afterRead}},[a("van-grid-item",[a("van-icon",{attrs:{name:"photograph",size:"2.3rem",color:"#666"}}),a("span",[e._v("拍照识别")])],1)],1),a("van-grid-item",{attrs:{to:"/homepage"}},[a("van-icon",{attrs:{name:"shop",size:"2.3rem",color:"#fac43a"}}),a("span",[e._v("环保商城")])],1),a("van-grid-item",{attrs:{to:"/the_order"}},[a("van-icon",{attrs:{name:"balance-list",size:"2.3rem",color:"#75e7a2"}}),a("span",[e._v("预约订单")])],1),a("van-grid-item",{attrs:{to:"/rankingList"}},[a("van-icon",{attrs:{name:"graphic",size:"2.3rem",color:"#5ab2f3"}}),a("span",[e._v("榜单")])],1)],1),a("div",[a("div",{staticClass:"lajifenlei",on:{click:e.into_garbage}},[a("h2",[e._v("垃圾分类查询")]),a("h4",[e._v("点击搜一搜,垃圾分类更简单")]),a("van-icon",{attrs:{name:"search",size:"36",color:"#fff"}})],1),a("div",{staticClass:"e-r"},[a("div",{staticClass:"eco-gold"},[a("van-notice-bar",{attrs:{"left-icon":"gold-coin",text:"我的环保金",background:"#fff",color:"#25c89b"}}),a("van-grid",{attrs:{border:!1,"column-num":3}},[a("van-grid-item",[a("h1",{staticStyle:{color:"#25c89b"}},[e._v(" "+e._s(e._f("xiaoshudian")(e.money.money_amoun))+" ")]),a("span",[e._v("环保金额")])]),a("van-grid-item",[a("h1",[e._v(e._s(e.money.recycle_count))]),a("span",[e._v("回收次数")])]),a("van-grid-item",[a("h1",[e._v(e._s(e.money.integral))]),a("span",[e._v("积分")])])],1)],1),a("div",{staticClass:"recycling-process"},[a("van-notice-bar",{attrs:{"left-icon":"setting",text:"回收流程",background:"#fff",color:"#25c89b"}}),a("van-grid",{attrs:{border:!1,"column-num":4}},[a("van-grid-item",[a("van-icon",{attrs:{name:"map-marked",size:"2.3rem",color:"#75e7a2"}}),a("span",[e._v("授权定位")])],1),a("van-grid-item",[a("van-icon",{attrs:{name:"bell",size:"2.3rem",color:"#75e7a2"}}),a("span",[e._v("一键预约")])],1),a("van-grid-item",[a("van-icon",{attrs:{name:"live",size:"2.3rem",color:"#75e7a2"}}),a("span",[e._v("等待上门")])],1),a("van-grid-item",[a("van-icon",{attrs:{name:"enlarge",size:"2.3rem",color:"#75e7a2"}}),a("span",[e._v("扫码收钱")])],1)],1),a("div",{staticClass:"next"},[a("van-icon",{attrs:{name:"arrow",size:"1.5rem",color:"#666"}}),a("van-icon",{attrs:{name:"arrow",size:"1.5rem",color:"#666"}}),a("van-icon",{attrs:{name:"arrow",size:"1.5rem",color:"#666"}})],1)],1)])]),a("van-tabbar",{staticClass:"bottom_nav",attrs:{placeholder:!0,"safe-area-inset-bottom":!0,"active-color":"#25c89b","inactive-color":"#9D9D9D"},model:{value:e.active,callback:function(n){e.active=n},expression:"active"}},[a("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"wap-home"}},[e._v("首页")]),a("van-tabbar-item",{attrs:{replace:"",to:"/the_order",icon:"column"}},[e._v("订单")]),a("van-tabbar-item",{attrs:{replace:"",to:"/subscribe",icon:"bell"}},[e._v("一键预约")]),a("van-tabbar-item",{attrs:{replace:"",to:"/homepage",icon:"shop"}},[e._v("商城")]),a("van-tabbar-item",{attrs:{replace:"",to:"/me",icon:"manager"}},[e._v("我的")])],1),a("van-popup",{attrs:{closeable:""},model:{value:e.show,callback:function(n){e.show=n},expression:"show"}},[a("div",{staticClass:"ljfl-tcc"},[a("img",{attrs:{src:e.url,alt:""}}),a("span",[e._v("垃圾:"+e._s(e.garbage_lj.Rubbish))]),a("span",[e._v("垃圾类别:"+e._s(e.garbage_lj.Category))])])])],1)},o=[],i=(a("b0c0"),a("c975"),a("e323"),a("0d03"),a("ac1f"),a("1276"),a("b680"),a("a9e3"),a("d3b7"),a("25f0"),function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{attrs:{id:"container"}})}),r=[],s=a("862d"),c=a.n(s),l={data:function(){return{map:null,lat:"",lng:"",address:""}},methods:{getGeoloc:function(){var e=this,n=navigator.geolocation;n.getCurrentPosition((function(n){e.lat=n.coords.latitude,e.lng=n.coords.longitude;var a=e.lat,t=e.lng;e.initMap(a,t)}),(function(e){console.log(e)}),{timeout:5e3})},initMap:function(e,n){var a=this;window._AMapSecurityConfig={securityJsCode:"19c08b2b2bbd50e8b625891e4f4dffaf"},c.a.load({key:"\t0d61a266fffbc3fb374b7dcdcfc15cdd",version:"2.0",plugins:["AMap.Geocoder","AMap.Geolocation"]}).then((function(t){var o=[n,e],i=new t.Geocoder({extensions:"all"});i.getAddress(o,(function(e,n){console.log(e,n),a.address=n.regeocode.formattedAddress,a.$emit("myEvent",a.address)}))}))["catch"]((function(e){console.warn(e)}))}},mounted:function(){this.getGeoloc()}},u=l,d=(a("5021"),a("2877")),p=Object(d["a"])(u,i,r,!1,null,"25ae540d",null),f=p.exports,v=a("7858"),g={components:{MapContainer:f},provide:function(){return{reload:this.reload}},data:function(){return{show:!1,active:0,address:"",images:["/rubbish_img/1.jpg","/rubbish_img/2.jpg","/rubbish_img/3.jpg","/rubbish_img/4.jpg","/rubbish_img/5.jpg"],isRouterAlive:!0,url:"",garbage_lj:"",money:{money_amoun:0,integral:0,recycle_count:0}}},methods:{into_garbage:function(){this.$router.push("/garbage")},getAddress:function(e){this.address=e,console.log(e)},reload:function(){this.isRouterAlive=!1,this.$nextTick((function(){this.isRouterAlive=!0}))},afterRead:function(e){var n=this;this.$toast.loading({message:"识别中...",forbidClick:!0}),e.status="uploading",e.message="上传中...";for(var a=a||32,t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",o=t.length,i="",r=0;r<a;r++)i+=t.charAt(Math.floor(Math.random()*o));var s=e.file.name,c=s.indexOf("."),l=s.substr(c),u="".concat(Date.parse(new Date))+i+l;Object(v["a"])().multipartUpload(u,e.file).then((function(a){n.url=a.res.requestUrls[0].split("?")[0],console.log("url",n.url);var t={};t.fileName=a.res.requestUrls[0],t.fileUrl=a.res.requestUrls[0],t.fileType=1,t.type=1,n.imageUrlIdCard=t,e.status="",e.message="";var o="imgUrl=".concat(n.url);console.log(o),n.axios.post("/gcs",o).then((function(e){200!=e.data.code?n.$toast.fail("抱歉!识别失败!我们正在努力学习中!"):(n.garbage_lj=e.data.results.Data.Elements[0],n.show=!0)}))}))["catch"]((function(e){console.warn(e)})),console.log(e)},getuser:function(){var e=this,n=sessionStorage.getItem("id");if(null!=n){this.userId=n;var a="/money_amoun/".concat(n);this.axios.get(a).then((function(n){e.money=n.data.results[0]}))}}},mounted:function(){this.getuser()},filters:{xiaoshudian:function(e){var n=Number(e).toFixed(3),a=n.substring(0,n.toString().length-1);return a}}},m=g,h=(a("1816"),Object(d["a"])(m,t,o,!1,null,"438133b4",null));n["default"]=h.exports},d881:function(e,n,a){}}]);
//# sourceMappingURL=chunk-7cec885f.43b09c52.js.map