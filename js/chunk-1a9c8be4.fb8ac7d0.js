(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a9c8be4"],{"00b4":function(e,t,n){"use strict";n("ac1f");var a=n("23e7"),o=n("da84"),s=n("c65b"),i=n("e330"),r=n("1626"),c=n("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=o.Error,h=i(/./.test);a({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!r(t))return h(this,e);var n=s(t,this,e);if(null!==n&&!c(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"32b7":function(e,t,n){"use strict";n("e4c2")},"90ab":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"个人信息","left-arrow":""},on:{"click-left":e.onClickLeft}}),n("van-uploader",{attrs:{"after-read":e.afterRead,multiple:"","max-count":1}},[n("van-image",{attrs:{round:"",width:"5rem",height:"5rem",fit:"cover",src:e.fileList[0].url}})],1),n("van-cell-group",[n("van-field",{attrs:{label:"昵称",placeholder:"请输入想要修改的昵称","error-message":e.nickmsg,clearable:""},on:{input:e.nickChange},model:{value:e.nicheng,callback:function(t){e.nicheng=t},expression:"nicheng"}}),n("van-field",{attrs:{type:"tel",label:"手机号",placeholder:"请输入想要修改的手机号",clearable:"","error-message":e.msg},on:{input:e.onChange},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("van-cell",{attrs:{title:"密码",value:"点击修改",to:"updatePwd"}}),n("van-cell",{attrs:{title:"退出登录",label:"点击退出登录"},on:{click:e.logOut}})],1),n("van-button",{attrs:{type:"primary",block:""},on:{click:e.baocunUpdate}},[e._v("保存修改")])],1)},o=[],s=(n("b0c0"),n("c975"),n("e323"),n("0d03"),n("ac1f"),n("1276"),n("99af"),n("00b4"),n("7858")),i={data:function(){return{fileList:[{url:sessionStorage.getItem("url")}],nicheng:sessionStorage.getItem("name"),phone:"",msg:"",nickmsg:""}},methods:{onClickLeft:function(){this.$router.push("/me"),this.$router.go("0"),this.$router.go("0")},afterRead:function(e){var t=this;this.$toast.loading({message:"修改中...",forbidClick:!0}),e.status="uploading",e.message="上传中...";for(var n=n||32,a="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",o=a.length,i="",r=0;r<n;r++)i+=a.charAt(Math.floor(Math.random()*o));var c=e.file.name,l=c.indexOf("."),u=c.substr(l),h="".concat(Date.parse(new Date))+i+u;Object(s["a"])().multipartUpload(h,e.file).then((function(n){t.url=n.res.requestUrls[0].split("?")[0],console.log("url",t.url);var a={};a.fileName=n.res.requestUrls[0],a.fileUrl=n.res.requestUrls[0],a.fileType=1,a.type=1,t.imageUrlIdCard=a,e.status="",e.message="";var o=sessionStorage.getItem("id"),s="uid=".concat(o,"&imgUrl=").concat(t.url);console.log(s),t.axios.post("/updateHead",s).then((function(e){200!=e.data.code?t.$toast.fail("抱歉,上传失败,请重新上传"):(t.fileList[0].url=t.url,sessionStorage.setItem("url",t.url),t.show=!0)}))}))["catch"]((function(e){console.warn(e)})),console.log(e)},getphone:function(){var e=this,t="/getphone/".concat(sessionStorage.getItem("id"));this.axios.get(t).then((function(t){e.phone=t.data.result.client_phone}))},onChange:function(e){e?/^1[3-9]\d{9}$/.test(e)?this.msg="":this.msg="请输入正确的手机号":this.msg="请输入手机号"},nickChange:function(e){e?/^[\u4e00-\u9fa5]{2,6}$/.test(e)?this.nickmsg="":this.nickmsg="昵称由2~6位汉字组成":this.nickmsg="请输入昵称"},baocunUpdate:function(){var e=this;if(this.msg||this.nickmsg)this.$toast.fail("昵称或者手机号格式不正确");else{var t=sessionStorage.getItem("id"),n="uid=".concat(t,"&nickname=").concat(this.nicheng,"&phone=").concat(this.phone);this.axios.post("/updateMessage",n).then((function(t){200!=t.data.code?e.$toast.fail("抱歉,修改失败"):(sessionStorage.setItem("name",e.nicheng),e.$toast.success("修改成功"))}))}},logOut:function(){var e=this;this.$dialog.confirm({title:"退出登录",message:"是否确认退出登录"}).then((function(){e.$toast.success("退出登录成功,如需进行其它业务请重新登录"),window.sessionStorage.clear(),e.$router.push("/login")}))["catch"]((function(){e.$toast.fail("已取消退出登录")}))}},mounted:function(){this.getphone()}},r=i,c=(n("32b7"),n("2877")),l=Object(c["a"])(r,a,o,!1,null,"614d6f24",null);t["default"]=l.exports},"99af":function(e,t,n){"use strict";var a=n("23e7"),o=n("da84"),s=n("d039"),i=n("e8b5"),r=n("861d"),c=n("7b0b"),l=n("07fa"),u=n("8418"),h=n("65f0"),f=n("1dde"),g=n("b622"),d=n("2d00"),p=g("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",b=o.TypeError,k=d>=51||!s((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),w=f("concat"),x=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)},$=!k||!w;a({target:"Array",proto:!0,forced:$},{concat:function(e){var t,n,a,o,s,i=c(this),r=h(i,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(s=-1===t?i:arguments[t],x(s)){if(o=l(s),f+o>m)throw b(v);for(n=0;n<o;n++,f++)n in s&&u(r,f,s[n])}else{if(f>=m)throw b(v);u(r,f++,s)}return r.length=f,r}})},e4c2:function(e,t,n){}}]);
//# sourceMappingURL=chunk-1a9c8be4.fb8ac7d0.js.map