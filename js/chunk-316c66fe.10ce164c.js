(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-316c66fe"],{"0d2c":function(t,e,a){"use strict";a("a3e9")},"30be":function(t,e,a){},"8ffb":function(t,e,a){"use strict";a("30be")},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("d039"),c=a("e8b5"),o=a("861d"),s=a("7b0b"),u=a("07fa"),l=a("8418"),d=a("65f0"),v=a("1dde"),f=a("b622"),h=a("2d00"),b=f("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",_=r.TypeError,g=h>=51||!i((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),x=v("concat"),k=function(t){if(!o(t))return!1;var e=t[b];return void 0!==e?!!e:c(t)},y=!g||!x;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,n,r,i,c=s(this),o=d(c,0),v=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?c:arguments[e],k(i)){if(r=u(i),v+r>p)throw _(m);for(a=0;a<r;a++,v++)a in i&&l(o,v,i[a])}else{if(v>=p)throw _(m);l(o,v++,i)}return o.length=v,o}})},a3e9:function(t,e,a){},e598:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"订单"}}),a("o-tabs",{attrs:{StateActive:this.$route.query.pageActive}}),a("van-tabbar",{staticClass:"bottom_nav",attrs:{placeholder:!0,"safe-area-inset-bottom":!0,"active-color":"#25c89b","inactive-color":"#9D9D9D"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"wap-home"}},[t._v("首页")]),a("van-tabbar-item",{attrs:{replace:"",to:"/the_order",icon:"column"}},[t._v("订单")]),a("van-tabbar-item",{attrs:{replace:"",to:"/subscribe",icon:"bell"}},[t._v("一键预约")]),a("van-tabbar-item",{attrs:{replace:"",to:"/homepage",icon:"shop"}},[t._v("商城")]),a("van-tabbar-item",{attrs:{replace:"",to:"/me",icon:"manager"}},[t._v("我的")])],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-tabs",{attrs:{animated:""},on:{click:t.onClick},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.states,(function(e,n){return a("van-tab",{key:n,attrs:{title:e.state_name,name:n}},[0!=t.orders.length?t._l(t.orders,(function(e,n){return a("van-swipe-cell",{key:n,scopedSlots:t._u([1*e.state_id!=7?{key:"right",fn:function(){return[a("van-button",{attrs:{square:"",type:"danger",text:"取消订单"},on:{click:function(a){return t.cancelOrder(e.order_id,e.state_name)}}})]},proxy:!0}:{key:"right",fn:function(){return[a("van-button",{attrs:{disabled:"",square:"",type:"danger",text:"已取消订单"}})]},proxy:!0}],null,!0)},[a("van-cell",{attrs:{border:!1,title:e.sortChoice+"/"+e.w_range,value:"联系电话:"+e.collector_phone,to:{path:"/orderDetails",query:{orderID:e.order_id}}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(e.order_num)+"  "+t._s(e.state_name))]},proxy:!0}],null,!0)})],1)})):0==t.orders.length?a("div",[a("van-empty",{attrs:{description:"暂无订单"}})],1):t._e()],2)})),1)],1)},c=[],o=(a("99af"),{props:["StateActive"],data:function(){return{states:"",stateID:"",active:"",orders:""}},methods:{getState:function(){var t=this,e=sessionStorage.getItem("id");void 0==this.StateActive||0==this.StateActive?(this.active=0,this.stateID=""):(this.active=1*this.StateActive,this.stateID=this.active+1),this.axios.get("/getState").then((function(e){t.states=e.data.results}));var a="uid=".concat(e,"&stateId=").concat(this.stateID);this.axios.post("/search_orders",a).then((function(e){t.orders=e.data.results}))},onClick:function(t,e){var a=this;this.stateID=0==t?"":t+1;var n=sessionStorage.getItem("id"),r="uid=".concat(n,"&stateId=").concat(this.stateID);this.axios.post("/search_orders",r).then((function(t){a.orders=t.data.results}))},cancelOrder:function(t,e){var a=this;this.$dialog.confirm({title:"取消订单",message:"该订单".concat(e,",是否确认取消订单,如操作失误请点击取消")}).then((function(){var e="/cancelOrder/".concat(t);a.axios.get(e).then((function(t){a.$toast.success("已取消订单"),a.onClick(a.stateID-1)}))}))["catch"]((function(){a.$toast("已取消该操作")}))}},mounted:function(){this.getState()}}),s=o,u=(a("0d2c"),a("2877")),l=Object(u["a"])(s,i,c,!1,null,"58c037cc",null),d=l.exports,v={components:{OTabs:d},data:function(){return{active:1,pageActive:3}},methods:{getactive:function(){}},mounted:function(){},created:function(){this.getactive()}},f=v,h=(a("8ffb"),Object(u["a"])(f,n,r,!1,null,"7ddd07bd",null));e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-316c66fe.10ce164c.js.map